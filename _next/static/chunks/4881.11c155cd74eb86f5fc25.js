"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4881],{94881:function(n,e,i){i.r(e),i.d(e,{default:function(){return j}});var t=i(70885),r=i(67294),o=i(45697),u=i(63366),a=i(87462),s=i(70655),c=function(n){return(n+1)%1e6};var f=function(n){void 0===n&&(n={});var e=(0,r.useReducer)(c,0)[1],i=(0,r.useRef)((0,s.pi)({},n));return[(0,r.useCallback)((function(){return i.current}),[]),(0,r.useCallback)((function(n){n&&(Object.assign(i.current,n),e())}),[])]},d=function(n){(0,r.useEffect)(n,[])};var l,m=function(n,e){var i=function(){var n=(0,r.useRef)(!0);return n.current?(n.current=!1,!0):n.current}();(0,r.useEffect)((function(){if(!i)return n()}),e)},p=(i(8679),function(n,e,i){return n=(n=n<=i?n:i)>=e?n:e}),v=!1,g=[],h=function n(){v=!0;var e=g.shift();if(e)return e(n);v=!1},E=function(n){g.push(n),v||1!==g.length||h()},b=function(n,e){var i;l=window.requestAnimationFrame((function t(r){r-(i=i||r)>e?n():l=window.requestAnimationFrame(t)}))},y=function(){},C={isFinished:!0,progress:0,sideEffect:y},F=function(){l&&window.cancelAnimationFrame(l),v=!1,g=[]},k=function(n){var e=void 0===n?{}:n,i=e.animationDuration,t=void 0===i?200:i,o=e.incrementDuration,u=void 0===o?800:o,s=e.isAnimating,c=void 0!==s&&s,l=e.minimum,v=void 0===l?.08:l,g=f(C),h=g[0],k=g[1],D=(0,r.useCallback)((function(n){if(1===(n=p(n,v,1)))return F(),E((function(e){k({progress:n,sideEffect:function(){return b(e,t)}})})),void E((function(){k({isFinished:!0,sideEffect:F})}));E((function(e){k({isFinished:!1,progress:n,sideEffect:function(){return b(e,t)}})}))}),[t,v,k]),w=(0,r.useCallback)((function(){D(function(n){var e=0;return n>=0&&n<.2?e=.1:n>=.2&&n<.5?e=.04:n>=.5&&n<.8?e=.02:n>=.8&&n<.99&&(e=.005),p(n+e,0,.994)}(h().progress))}),[h,D]),x=(0,r.useCallback)((function(){!function n(){w(),E((function(e){b((function(){n(),e()}),u)}))}()}),[u,w]),R=(0,r.useRef)(y),A=h().sideEffect;return(0,r.useEffect)((function(){R.current=w})),d((function(){return c&&x(),F})),m((function(){h().sideEffect()}),[h,A]),m((function(){c?k((0,a.Z)({},C,{sideEffect:x})):D(1)}),[c,D,k,x]),{animationDuration:t,isFinished:h().isFinished,progress:h().progress}},D=["children"],w=function(n){var e=n.children,i=(0,u.Z)(n,D);return e(k(i))};var x=function(n){var e=n.children,i=n.isFinished,t=n.animationDuration;return r.createElement("div",{style:{opacity:i?0:1,pointerEvents:"none",transition:"opacity ".concat(t,"ms linear")}},e)};x.displayName="Container",x.propTypes={animationDuration:o.number.isRequired,children:o.node.isRequired,isFinished:o.bool.isRequired};var R,A=x,q=i(30168),Z=i(24237),N=function(n){var e=n.animationDuration,i=n.context,t=n.progress;return r.createElement(O,{context:i,style:{marginLeft:"".concat(100*(-1+t),"%"),transition:"margin-left ".concat(e,"ms linear")}})};N.displayName="Bar",N.propTypes={animationDuration:o.number.isRequired,context:o.string,progress:o.number.isRequired};var O=Z.ZP.div(R||(R=(0,q.Z)(["\n  background-color: ",";\n  height: 0.25rem;\n  left: 0;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 1031;\n"])),(function(n){var e=n.context;return n.theme.COLOUR[e]})),P=N,T=i(37815),_=function(n){var e=n.context,i=n.isAnimating,o=n.instanceKey,u=n.router,a=(0,r.useState)(!1),s=(0,t.Z)(a,2),c=s[0],f=s[1],d=(0,r.useState)(null),l=(0,t.Z)(d,2),m=l[0],p=l[1],v=function(){f(!0),p((new Date).getTime())},g=function(){f(!1)};return(0,r.useEffect)((function(){u&&(u.events.on("routeChangeStart",v),u.events.on("routeChangeComplete",g),u.events.on("routeChangeError",g))}),[]),r.createElement(w,{isAnimating:c||i,key:m||o},(function(n){var i=n.animationDuration,t=n.isFinished,o=n.progress;return r.createElement(A,{animationDuration:i,isFinished:t},r.createElement(P,{animationDuration:i,context:e,progress:o}))}))};_.displayName="PageProgressBar",_.propTypes={context:(0,o.oneOf)(Object.values(T.Z)),isAnimating:o.bool,instanceKey:o.string,router:o.object},_.defaultProps={context:"info",isAnimating:!1,instanceKey:null};var j=_}}]);