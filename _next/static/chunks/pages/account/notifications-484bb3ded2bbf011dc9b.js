(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2769],{93633:function(e,n,t){"use strict";t.d(n,{a:function(){return i}});var r=t(81322);function i(e,n){return(0,r.r)(e,n,!1)}},22796:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var r,i,a,o,c,s=t(42982),u=t(30168),d=t(67294),l=t(45697),m=t(24237),p=t(82373),g=t(34974),f={xxsSize:"0.25rem",xsSize:"0.5rem",smSize:"0.75rem",mdSize:"1rem",lgSize:"1.5rem",xlSize:"2rem",xxlSize:"2.5rem",xxxlSize:"3rem"},v=function(e){var n="",t=0;return e.forEach((function(e){e.v&&(t++,n+="".concat(e.k,": ").concat(f[e.v+"Size"],";\n      ").concat(g.Z.desktop(r||(r=(0,u.Z)(["\n        ",": calc("," * 2);"])),e.k,f[e.v+"Size"]),"\n      "))})),0===t?(0,m.iv)(i||(i=(0,u.Z)(["\n      margin-bottom: ",";\n      ","\n    "])),f.mdSize,g.Z.desktop(a||(a=(0,u.Z)(["\n        margin-bottom: calc("," * 2);"])),f.mdSize)):(0,m.iv)(o||(o=(0,u.Z)(["\n    ","\n  "])),n)},b=function(e){var n=e.children,t=e.className,r=e.content,i=e.margin,a=e.marginX,o=e.marginY,c=e.marginTop,s=e.marginRight,u=e.marginBottom,l=e.marginLeft,m=e.padding,p=e.paddingX,g=e.paddingY,f=e.paddingTop,v=e.paddingRight,b=e.paddingBottom,y=e.paddingLeft;return d.createElement(h,{className:t,margin:i,marginX:a,marginY:o,marginTop:c,marginRight:s,marginBottom:u,marginLeft:l,padding:m,paddingX:p,paddingY:g,paddingTop:f,paddingRight:v,paddingBottom:b,paddingLeft:y},r||n)};b.displayName="Space";var h=m.ZP.div(c||(c=(0,u.Z)(["\n  margin: 0;\n  padding: 0;\n  ","\n"])),(function(e){var n=e.margin,t=e.marginBottom,r=e.marginTop,i=e.marginLeft,a=e.marginRight,o=e.marginX,c=e.marginY,u=e.padding,d=e.paddingBottom,l=e.paddingLeft,m=e.paddingRight,p=e.paddingTop,g=e.paddingX,f=e.paddingY;return v([{k:"margin",v:n},{k:"margin-bottom",v:t},{k:"margin-left",v:i},{k:"margin-right",v:a},{k:"margin-top",v:r},{k:"padding",v:u},{k:"padding-bottom",v:d},{k:"padding-left",v:l},{k:"padding-right",v:m},{k:"padding-top",v:p}].concat((0,s.Z)(c?[{k:"margin-top",v:c},{k:"margin-bottom",v:c}]:[]),(0,s.Z)(o?[{k:"margin-left",v:o},{k:"margin-right",v:o}]:[]),(0,s.Z)(f?[{k:"padding-top",v:f},{k:"padding-bottom",v:f}]:[]),(0,s.Z)(g?[{k:"padding-left",v:g},{k:"padding-right",v:g}]:[])))}));b.propTypes={children:l.node,content:l.string,margin:(0,l.oneOf)(Object.values(p.Z)),marginY:(0,l.oneOf)(Object.values(p.Z)),marginX:(0,l.oneOf)(Object.values(p.Z)),marginTop:(0,l.oneOf)(Object.values(p.Z)),marginRight:(0,l.oneOf)(Object.values(p.Z)),marginBottom:(0,l.oneOf)(Object.values(p.Z)),marginLeft:(0,l.oneOf)(Object.values(p.Z)),padding:(0,l.oneOf)(Object.values(p.Z)),paddingY:(0,l.oneOf)(Object.values(p.Z)),paddingX:(0,l.oneOf)(Object.values(p.Z)),paddingTop:(0,l.oneOf)(Object.values(p.Z)),paddingRight:(0,l.oneOf)(Object.values(p.Z)),paddingBottom:(0,l.oneOf)(Object.values(p.Z)),paddingLeft:(0,l.oneOf)(Object.values(p.Z))};var y=b},84550:function(e,n,t){"use strict";t.d(n,{Z:function(){return j}});var r,i=t(30168),a=t(87462),o=t(45987),c=t(67294),s=t(45697),u=t(24237),d=t(42778),l=["disabled"],m=(0,c.forwardRef)((function(e,n){var t=e.disabled,r=(0,o.Z)(e,l);return c.createElement(p,(0,a.Z)({disabled:t,ref:n,type:"checkbox"},r))})),p=u.ZP.input(r||(r=(0,i.Z)(["\n  cursor: pointer;\n  margin-right: 0.5rem;\n"])));m.propTypes={disabled:s.bool},m.defaultProps={stacked:!1};var g,f,v,b,h=m,y=t(88280),Z=["data","errors","legend","stacked"],_=["disabled","label"],O=function(e){var n=e.data,t=e.errors,r=e.legend,i=e.stacked,s=(0,o.Z)(e,Z);return c.createElement($,{error:t[s.name]},r&&c.createElement("legend",null,r),n.map((function(e){var n=e.disabled,r=e.label,u=(0,o.Z)(e,_);return c.createElement(k,{htmlFor:u.id,key:u.id,stacked:i},c.createElement(d.Z,(0,a.Z)({component:h,disabled:n,errors:t[s.name],showError:!1},u,s)),r)})))};O.displayName="Checkbox";var $=u.ZP.fieldset(g||(g=(0,i.Z)(["\n  border-radius: 0.25rem;\n  color: ",";\n  ","\n"])),(function(e){return e.theme.COLOUR.dark}),(function(e){return e.error&&(0,u.iv)(f||(f=(0,i.Z)(["\n      ","\n      padding: 0.5rem;\n    "])),(function(e){return(0,y.Z)(e)}))})),k=u.ZP.label(v||(v=(0,i.Z)(["\n  cursor: pointer;\n  margin-right: 1.25rem;\n  position: relative;\n  ","\n"])),(function(e){return e.stacked&&(0,u.iv)(b||(b=(0,i.Z)(["\n      display: block;\n      margin: 0.5rem 0;\n    "])))}));O.propTypes={data:s.array.isRequired,errors:s.object,legend:s.string,stacked:s.bool},O.defaultProps={data:[],errors:{},stacked:!1};var j=O},50710:function(e,n,t){"use strict";var r,i=t(30168),a=t(45987),o=t(67294),c=t(45697),s=t(24237),u=t(22796),d=t(82373),l=["message","colour"],m=function(e){var n=e.message,t=e.colour;(0,a.Z)(e,l);return o.createElement(u.Z,{marginTop:d.Z.XS},o.createElement(p,{color:t},n))};m.displayName="FormError";var p=s.ZP.small(r||(r=(0,i.Z)(["\n  color: ",";\n  display: block;\n  font-size: 0.625rem;\n  font-weight: 400;\n  width: 100%;\n"])),(function(e){var n=e.theme,t=e.colour;return null!==t&&void 0!==t?t:n.COLOUR.danger}));m.propTypes={message:c.string.isRequired,colour:c.string},n.Z=m},42778:function(e,n,t){"use strict";var r=t(87462),i=t(4942),a=t(45987),o=t(67294),c=t(50710),s=t(22796),u=t(18944),d=t(82373),l=["component","errors","children","helperMessage","register","show","showError","validate"];function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var g=function(e){var n=e.component,t=e.errors,i=e.children,m=e.helperMessage,g=e.register,f=e.show,v=e.showError,b=e.validate,h=(0,a.Z)(e,l);return o.createElement(o.Fragment,null,o.createElement(n,(0,r.Z)({"aria-label":h.name,errors:null===t||void 0===t?void 0:t.message,key:h.name,name:h.name,ref:g(p(p(p(p(p({validate:b},h.max&&{max:h.max}),h.min&&{min:h.min}),h.maxLength&&{maxLength:h.maxLength}),h.minLength&&{minLength:h.minLength}),h.regExp&&{pattern:new RegExp(h.regExp)})),style:p({display:f?void 0:"none"},h.style)},h),i),m&&o.createElement(s.Z,{marginTop:d.Z.SM,marginBottom:d.Z.XS},o.createElement(u.Z,{size:d.Z.XS,context:"default"},m)),v&&o.createElement(c.Z,{message:(null===t||void 0===t?void 0:t.message)||""}))};g.defaultProps={errors:{},register:function(){},show:!0,showError:!1},n.Z=g},66918:function(e,n,t){"use strict";var r=t(4942),i=t(67294),a=t(45697),o=t(11570),c=t(4513),s=t(98479),u=t(97721),d=t(22796),l=t(37815);function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var g=function(e){var n=e.children,t=e.meta,r=e.pageHeading,a=e.resultAlert,l=e.View,m=a.context,g=a.message,f=p(p({},{description:"Admin",path:"/",title:"Admin"}),t);return i.createElement(i.Suspense,{fallback:i.createElement(u.Z,{indicator:i.createElement(c.Z,null)})},i.createElement(s.Z,{fluid:!0,meta:f,pageHeading:r},l||n,g&&i.createElement(i.Fragment,null,i.createElement(d.Z,null),i.createElement(o.Z,{content:g,context:m}))))};g.displayName="Dashboard",g.propTypes={children:a.node,meta:(0,a.shape)({description:a.string,path:a.string,title:a.string}),pageHeading:(0,a.shape)({center:a.bool,context:(0,a.oneOf)(Object.values(l.Z)),divider:a.bool,heading:a.any.isRequired,help:a.bool,helpContent:a.any,strapline:a.string}),resultAlert:(0,a.shape)({context:a.string,message:a.string}),View:a.node},g.defaultProps={resultAlert:{context:"success",message:""}},n.Z=g},98479:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var r=t(30168),i=t(67294),a=t(45697),o=t(24237),c=t(17743),s=t(44902),u=t(9008),d=function(e){var n=e.canonical,t=e.brand,r=e.meta,a=r.description,o=r.path,c=r.title;return i.createElement(u.default,null,i.createElement("title",null,c," | ",t),i.createElement("meta",{name:"description",content:a,key:"description"}),i.createElement("meta",{rel:"canonical",href:n+o,key:"canonical"}),i.createElement("meta",{property:"og:title",content:c}),i.createElement("meta",{property:"og:description",content:a}),i.createElement("meta",{property:"og:url",content:n+o}),i.createElement("meta",{name:"twitter:url",content:n+o}),i.createElement("meta",{name:"twitter:title",content:c}),i.createElement("meta",{name:"twitter:description",content:a}))};d.displayName="MetaHead",d.propTypes={brand:a.string.isRequired,meta:a.object.isRequired};var l,m=d,p=t(33120),g=t(22796),f=t(37815),v=t(82373),b=function(e){var n=e.children,t=e.fluid,r=e.meta,a=e.padding,o=e.pageHeading,u=(0,i.useContext)(c.Z).config,d=u.Brand,l=u.Canonical;return i.createElement(h,null,a&&i.createElement(g.Z,{paddingTop:a}),r&&i.createElement(m,{canonical:l,brand:d.name,meta:r}),i.createElement(s.Z,{fluid:t},o&&i.createElement(p.Z,o),n),a&&i.createElement(g.Z,{paddingBottom:a}))};b.displayName="Page";var h=o.ZP.div(l||(l=(0,r.Z)(["\n  background-color: ",";\n"])),(function(e){return e.theme.PAGE.backGroundColour}));b.propTypes={children:a.node.isRequired,fluid:a.bool,meta:(0,a.shape)({description:a.string.isRequired,path:a.string,title:a.string.isRequired}),padding:(0,a.oneOfType)([a.bool,(0,a.oneOf)(Object.values(v.Z))]),pageHeading:(0,a.shape)({center:a.bool,context:(0,a.oneOf)(Object.values(f.Z)),divider:a.bool,heading:a.any.isRequired,help:a.bool,helpContent:a.any,strapline:a.string})},b.defaultProps={fluid:!1,padding:"md"};var y=b},33120:function(e,n,t){"use strict";var r,i,a,o,c,s=t(30168),u=t(67294),d=t(45697),l=t(24237),m=t(77417),p=t(11417),g=t(37815),f=function(e){var n=e.center,t=e.children,r=e.context,i=e.divider,a=e.heading,o=e.help,c=e.helpContent,s=e.strapline;return u.createElement(v,{center:n,divider:i},u.createElement(b,null,u.createElement(y,{content:a,context:r,pageHeading:!0}),s&&u.createElement("div",null,s)),(t||o)&&u.createElement(h,null,t||c),i&&u.createElement(Z,{size:"md"}))};f.displayName="PageHeading";var v=l.ZP.header(r||(r=(0,s.Z)(["\n  align-items: center;\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n  margin-bottom: ",";\n  text-align: ",";\n"])),(function(e){return!e.divider&&"2rem"}),(function(e){return e.center&&"center"})),b=l.ZP.span(i||(i=(0,s.Z)(["\n  flex: 1;\n"]))),h=l.ZP.span(a||(a=(0,s.Z)(["\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n"]))),y=(0,l.ZP)(p.Z)(o||(o=(0,s.Z)(["\n  margin-bottom: ",";\n"])),(function(e){return e.divider?"0.5rem":"0"})),Z=(0,l.ZP)(m.Z)(c||(c=(0,s.Z)(["\n  width: 100%;\n"])));f.propTypes={center:d.bool,children:d.element,context:(0,d.oneOf)(Object.values(g.Z)),divider:d.bool,heading:d.any.isRequired,help:d.bool,helpContent:d.any,strapline:d.string},f.defaultProps={center:!1,context:"primary",divider:!0,help:!1,helpContent:"",strapline:""},n.Z=f},27834:function(e,n,t){"use strict";t.d(n,{I4:function(){return _},AX:function(){return O},fo:function(){return $},JA:function(){return k},WF:function(){return j},Px:function(){return E},a8:function(){return P},r1:function(){return w},MT:function(){return I},nE:function(){return A},nh:function(){return U},$E:function(){return x},uz:function(){return S},ge:function(){return q},ZA:function(){return L},tW:function(){return T}});var r,i,a,o,c,s,u,d,l,m,p,g,f,v,b,h,y=t(52209),Z=t(54397),_=(0,Z.Ps)(r||(r=(0,y.Z)(["\n  mutation InsertAccountUser($objects: [Account_User_insert_input!]!) {\n    insert_Account_User(objects: $objects) {\n      returning {\n        id\n      }\n    }\n  }\n"]))),O=(0,Z.Ps)(i||(i=(0,y.Z)(["\n  mutation UpdateUser(\n    $id: Int!\n    $accountUserId: Int!\n    $accountUserChanges: Account_User_set_input\n    $changes: User_set_input\n    $updateAccountUser: Boolean!\n  ) {\n    update_Account_User_by_pk(pk_columns: { id: $accountUserId }, _set: $accountUserChanges)\n      @include(if: $updateAccountUser) {\n      id\n    }\n    update_User_by_pk(pk_columns: { id: $id }, _set: $changes) {\n      id\n    }\n  }\n"]))),$=(0,Z.Ps)(a||(a=(0,y.Z)(["\n  query GetUsers(\n    $accountId: Int\n    $accountType: String\n    $date: timestamptz\n    $limit: Int\n    $offset: Int\n    $q: String\n    $orderBy: User_order_by!\n    $status: String\n  ) {\n    users: User(\n      limit: $limit\n      offset: $offset\n      where: {\n        Account_Users: { Account: { id: { _eq: $accountId }, type: { _eq: $accountType } } }\n        createdAt: { _eq: $date }\n        _or: [\n          { email: { _ilike: $q } }\n          { nameFirst: { _ilike: $q } }\n          { nameLast: { _ilike: $q } }\n        ]\n        status: { _eq: $status }\n      }\n      order_by: [$orderBy]\n    ) {\n      id\n      name: nameFirst\n      nameFirst\n      nameLast\n      phone\n      status\n      email\n      createdAt\n      meta\n      accounts: Account_Users {\n        id\n        role\n        position\n        isContact\n        status\n        account: Account {\n          id\n          name\n          type\n        }\n        userLocations: User_Account_Locations {\n          accountLocationId\n        }\n      }\n    }\n    meta: User_aggregate(\n      where: {\n        Account_Users: { Account: { id: { _eq: $accountId }, type: { _eq: $accountType } } }\n        createdAt: { _eq: $date }\n        _or: [{ nameFirst: { _ilike: $q } }, { nameLast: { _ilike: $q } }]\n        status: { _eq: $status }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n"]))),k=(0,Z.Ps)(o||(o=(0,y.Z)(["\n  query GetUser($id: Int!) {\n    user: User_by_pk(id: $id) {\n      id\n      fullName\n      name: nameFirst\n      nameFirst\n      nameLast\n      phone\n      status\n      email\n      createdAt\n      meta\n      media: Media {\n        id\n        medium: Medium {\n          id\n          category\n          filename\n          meta\n          type\n        }\n      }\n      accounts: Account_Users {\n        id\n        role\n        position\n        isContact\n        status\n        account: Account {\n          id\n          name\n          type\n        }\n      }\n    }\n  }\n"]))),j=(0,Z.Ps)(c||(c=(0,y.Z)(["\n  query CheckDuplicateEmail($email: String!) {\n    users: User_public(where: { email: { _eq: $email } }) {\n      id\n      nameFirst\n      nameLast\n      email\n      phone\n    }\n  }\n"]))),E=(0,Z.Ps)(s||(s=(0,y.Z)(["\n  fragment UserFields on User {\n    id\n    email\n    nameFirst\n    nameLast\n    fullName\n    phone\n    status\n  }\n"]))),P=(0,Z.Ps)(u||(u=(0,y.Z)(["\n  mutation SendGoogleAuthCode($code: String!, $id: Int!, $type: String!) {\n    createGoogleToken(code: $code, id: $id, type: $type) {\n      success\n      tokens\n      error\n    }\n  }\n"]))),w=(0,Z.Ps)(d||(d=(0,y.Z)(["\n  mutation GenerateMSURL($type: String!, $id: Int!) {\n    genenrateMSURL(id: $id, type: $type) {\n      url\n    }\n  }\n"]))),I=(0,Z.Ps)(l||(l=(0,y.Z)(["\n  mutation signoutMS($id: Int!, $type: String!, $email: String!) {\n    signoutMS(id: $id, type: $type, email: $email) {\n      error\n      msId\n      success\n    }\n  }\n"]))),A=(0,Z.Ps)(m||(m=(0,y.Z)(["\n  query getAccountMeta($id: Int!) {\n    account: Account_by_pk(id: $id) {\n      meta\n    }\n  }\n"]))),U=(0,Z.Ps)(p||(p=(0,y.Z)(["\n  query user($id: Int!) {\n    user: User_by_pk(id: $id) {\n      meta\n    }\n  }\n"]))),x=(0,Z.Ps)(g||(g=(0,y.Z)(["\n  mutation updateAccount($accountId: Int!, $set: Account_set_input!) {\n    update_Account_by_pk(pk_columns: { id: $accountId }, _set: $set) {\n      id\n    }\n  }\n"]))),S=(0,Z.Ps)(f||(f=(0,y.Z)(["\n  mutation updateUserMeta($userId: Int!, $meta: jsonb!) {\n    update_User_by_pk(pk_columns: { id: $userId }, _set: { meta: $meta }) {\n      id\n      meta\n    }\n  }\n"]))),q=(0,Z.Ps)(v||(v=(0,y.Z)(['\n  query userDevices($accountId: Int!) {\n    users: User(\n      where: {\n        Account_Users: { accountId: { _eq: $accountId }, status: { _eq: "active" } }\n        UserDevices: { status: { _eq: "active" } }\n        status: { _eq: "active" }\n      }\n    ) {\n      id\n      fullName\n      devices: UserDevices(\n        order_by: { updatedAt: desc_nulls_last }\n        where: { status: { _eq: "active" } }\n        limit: 1\n      ) {\n        id\n        playerId\n      }\n    }\n  }\n']))),L=(0,Z.Ps)(b||(b=(0,y.Z)(['\n  query GetAccountLocations($accountId: Int, $limit: Int, $offset: Int) {\n    location: Location(\n      offset: $offset\n      limit: $limit\n      where: {\n        Account_Locations: {\n          accountId: { _eq: $accountId }\n          Account: { type: { _eq: "customer" } }\n        }\n      }\n    ) {\n      id\n      name\n      accountLocations: Account_Locations {\n        id\n      }\n      addresses: Addresses(where: { entity: { _eq: "Location" }, registered: { _eq: true } }) {\n        id\n        status\n        address: Address {\n          id\n          name\n          addressLine1\n          postCode\n        }\n      }\n    }\n    meta: Location_aggregate(\n      where: {\n        Account_Locations: {\n          accountId: { _eq: $accountId }\n          Account: { type: { _eq: "customer" } }\n        }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']))),T=(0,Z.Ps)(h||(h=(0,y.Z)(["\n  mutation InsertUserAccountLocations(\n    $accountUserId: Int!\n    $objects: [User_Account_Location_insert_input!]!\n  ) {\n    delete_User_Account_Location(where: { accountUserId: { _eq: $accountUserId } }) {\n      affected_rows\n    }\n    insert_User_Account_Location(objects: $objects) {\n      affected_rows\n      returning {\n        id\n      }\n    }\n  }\n"])))},77916:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return I}});var r,i,a=t(92809),o=t(80318),c=t(67294),s=t(93633),u=t(75709),d=t(38460),l=t(52209),m=t(54397),p=(0,m.Ps)(r||(r=(0,l.Z)(["\n  query GetNotificationSetting($userId: Int!) {\n    notificationSetting: User(where: { id: { _eq: $userId } }) {\n      meta\n    }\n  }\n"]))),g=(0,m.Ps)(i||(i=(0,l.Z)(["\n  mutation UpdateNotificationSetting($userId: Int!, $changes: User_set_input) {\n    update_User_by_pk(pk_columns: { id: $userId }, _set: $changes) {\n      id\n    }\n  }\n"]))),f=t(27834),v=t(42283),b=t(43566),h=t(66918),y=t(80284),Z=t(97202),_=t(18944),O=t(84550),$=t(14347),k=["email","sms","pushNotification","toast"],j=[{id:"email",label:"Email",value:"email"},{id:"sms",label:"Text message",value:"sms"},{id:"pushNotification",label:"Push Notification",value:"pushNotification"},{id:"toast",label:"Toast",value:"toast"}],E=t(85893);function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var w={settings:[]},I=function(){var e=(0,c.useContext)(b.Z).user.id,n=(0,s.a)(p,{variables:{userId:e}}),t=n.loading,r=n.data,i=(r=void 0===r?{notificationSetting:{}}:r).notificationSetting,l=(0,v.cI)({defaultValues:w}),m=l.errors,I=l.handleSubmit,A=l.register,U=l.setValue,x=(0,c.useState)({context:"",message:""}),S=x[0],q=x[1];(0,c.useEffect)((function(){var e,n;if(!t&&i.length&&null!==(e=i[0])&&void 0!==e&&null!==(n=e.meta)&&void 0!==n&&n.notificationSettings){var r,a,o=null===(r=i[0])||void 0===r||null===(a=r.meta)||void 0===a?void 0:a.notificationSettings,c=Object.keys(o).filter((function(e){return!0===o[e]}));U("settings",c)}}),[t]);var L=(0,u.D)(g),T=(0,o.Z)(L,1)[0],N=(0,d.t)(f.JA,{variables:{id:e}}),C=(0,o.Z)(N,2),R=C[0],D=C[1].data,z=(D=void 0===D?{user:{}}:D).user;(0,c.useEffect)((function(){e&&R()}),[]);return(0,E.jsx)(h.Z,{heading:"Notifications",pageHeading:{heading:"Notifications"},resultAlert:S,children:(0,E.jsx)(y.Z,{fitParentHeight:!0,open:!0,title:"Global",children:(0,E.jsxs)(Z.Z,{handleSubmit:I((function(e){var n={};k.map((function(t){return n[t]=e.settings.includes(t)}));var t=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},z.meta)||{};t.notificationSettings=n,T({variables:{userId:z.id,changes:{meta:t}}}),q({context:"success",message:"Your changes have been saved."})})),children:[(0,E.jsx)(_.Z,{children:"Choose where you'd like to receive notifications on your devices. You can turn them on or off here too."}),(0,E.jsx)(O.Z,{data:j,errors:m,name:"settings",register:A,stacked:!0}),(0,E.jsx)($.Z,{content:"Submit",type:"submit"})]})})})}},17227:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account/notifications",function(){return t(77916)}])}},function(e){e.O(0,[284,4195,9774,2888,179],(function(){return n=17227,e(e.s=n);var n}));var n=e.O();_N_E=n}]);