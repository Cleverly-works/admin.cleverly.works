(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5868],{21269:function(e,r,t){"use strict";var n,i,o,s,a,c=t(30168),u=t(67294),l=t(45697),p=t(24237),d=t(37815),f=t(82373),b=function(e){var r=e.addonType,t=(e.className,e.children),n=e.context,i=e.error,o=e.size,s=e.text,a=e.theme;return u.createElement(h,{addonType:r,className:r,children:t,context:n,error:i,size:o,text:s,theme:a})};b.displayName="InputGroupAddon";var h=p.ZP.div(n||(n=(0,c.Z)(["\n  align-items: center;\n  display: flex;\n\n  & > * {\n    height: 100%;\n  }\n\n  ","\n  ","\n\n  &,\n  button {\n    ","\n\n    ","\n  }\n"])),(function(e){var r=e.theme,t=r.COLOUR,n=r.FORM_ELEMENTS_STYLES,o=e.error;return e.text&&(0,p.iv)(i||(i=(0,c.Z)(["\n      background-color: ",";\n      border: 1px solid ",";\n      border-radius: ",";\n      color: ",";\n      display: flex;\n      font-size: 0.75rem;\n      font-weight: 400;\n      line-height: 1;\n      margin-bottom: 0;\n      padding: 0.375rem 1rem;\n      text-align: center;\n      transition: background-color 0.15s linear;\n      white-space: nowrap;\n    "])),o?t.danger:t.light,o?t.danger:t.dark,n.inputBorderRadius,o?t.light:t.dark)}),(function(e){return e.size===f.Z.SM&&(0,p.iv)(o||(o=(0,c.Z)(["\n      font-size: 0.625rem;\n      padding: 0 0.75rem;\n    "])))}),(function(e){return"prepend"===e.addonType&&(0,p.iv)(s||(s=(0,c.Z)(["\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n        margin-right: -1px;\n      "])))}),(function(e){return"append"===e.addonType&&(0,p.iv)(a||(a=(0,c.Z)(["\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n        margin-left: -1px;\n      "])))}));b.propTypes={addonType:(0,l.oneOf)(["prepend","append"]),className:l.any,children:l.node,context:(0,l.oneOf)(Object.values(d.Z)),text:l.bool},b.defaultProps={addonType:"append",context:"light"},r.Z=b},44442:function(e,r,t){"use strict";var n,i,o=t(30168),s=t(67294),a=t(45697),c=t(24237),u=function(e){var r=e.children,t=e.error,n=e.fullWidth,i=e.size,o=e.theme;return s.createElement(l,{children:r,error:t,fullWidth:n,size:i,theme:o})};u.displayName="InputGroup";var l=c.ZP.div(n||(n=(0,o.Z)(["\n  align-items: stretch;\n  display: flex;\n  flex-wrap: wrap;\n  position: relative;\n  width: 100%;\n\n  input {\n    ","\n    min-width: 0;\n    margin-bottom: 0;\n    position: relative;\n\n    :not(:first-child) {\n      border-top-left-radius: 0;\n      border-bottom-left-radius: 0;\n    }\n\n    :first-child {\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n    }\n\n    :not(:last-child) {\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n    }\n  }\n  ","\n"])),(function(e){return e.fullWidth?"flex: 1 1 0%;":"width: auto;"}),(function(e){var r=e.error,t=e.theme;return r&&t&&(0,c.iv)(i||(i=(0,o.Z)(["\n      &:hover {\n        .prepend,\n        .append {\n          background: ",";\n          border-color: ",";\n        }\n      }\n    "])),t.COLOUR.danger,t.COLOUR.danger)}));u.propTypes={fullWidth:a.bool,size:a.string},u.defaultProps={fullWidth:!0,size:"md"},r.Z=u},69399:function(e,r,t){"use strict";t.d(r,{r:function(){return o}});var n=t(46482),i=t(85893),o=function(e){var r=e.errors,t=e.name,o=e.onChange,s=e.options,a=e.register;return(0,i.jsx)(n.Z,{errors:r,name:t,onChange:o,options:s,register:a})};o.defaultProps={name:"status"}},70316:function(e,r,t){"use strict";t.d(r,{J:function(){return D}});var n=t(92809),i=t(80318),o=t(10219),s=t(11163),a=t(67294),c=t(78215),u=t(2356),l=t(42283),p=t(97202),d=t(80284),f=t(65375),b=t(10973),h=t(14347),O=t(66805),g=t(69119),m=t(23855),y=t(83894);function j(e,r,t){var n=(0,a.useState)((function(){if(JSON.parse(window.sessionStorage.getItem(e))&&!Object.values(JSON.parse(window.sessionStorage[e])).includes(t))return r;try{var n=JSON.parse(window.sessionStorage.getItem(e));return n&&(n.startDate=n.startDate?(0,g.Z)((0,m.Z)(n.startDate)):null,n.endDate=n.endDate?(0,y.Z)((0,m.Z)(n.endDate)):null),n||r}catch(i){return console.log(i),r}})),i=n[0],o=n[1];return[i,function(r){try{var t=r instanceof Function?r(i):r;o(t),window.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){console.log(n)}}]}var v=t(85893);function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var P=function(e){var r=e.initialValues,t=e.renderFilters,n=e.setFilters,o=e.lastQuery,s=e.filters,g=r.filterType,m=j("form_data",r,g),y=(0,i.Z)(m,2),w=y[0],P=y[1],Z=(0,l.cI)({defaultValues:w||r}),S=Z.control,E=Z.errors,D=Z.handleSubmit,N=Z.register,T=Z.reset,C=Z.watch,k=Z.setValue,F=x(x({},C()),{},{filterType:g});(0,a.useEffect)((function(){T(F)}),[T]),(0,a.useEffect)((function(){P(F)}),[s]);var _=function(e){var t=e.query;if(t!==o){var i={q:"%".concat(t,"%")||0},s=/^\d+$/.test(t);"id"in r&&(i.id=s?Number(t):null),"meta"in r&&(i.meta=s?{invoiceNumbers:[t]}:null),"jobNumber"in r&&(i.jobNumber=s?String(t):null,i.invoiceNumber=s?Number(t):null),(i.id||i.meta||i.jobNumber)&&(i.q=null),n((function(e){return x(x({},e),i)}))}};return(0,v.jsx)(p.Z,{handleSubmit:D(_),children:(0,v.jsxs)(d.Z,{title:"Filters",children:[(0,v.jsxs)(c.Z,{children:[(0,v.jsx)(u.Z,{sm:12,lg:12,children:(0,v.jsx)(f.Z,{label:"",children:(0,v.jsx)(b.Z,{errors:E,label:"Search",name:"email",placeholder:"Search...",prependSearchIcon:!0,register:N,type:"search"})})}),(0,v.jsx)(u.Z,{sm:12,lg:12,children:t({control:S,errors:E,initialValues:r,register:N,setFilters:n,watch:C,setValue:k,reset:T})})]}),(0,v.jsx)(O.H,{content:"Search",context:"secondary",handleClick:_,type:"submit",children:(0,v.jsx)(h.Z,{content:"Clear",context:"danger",onClick:function(e){Object.keys(r).map((function(e){return k(e,null)})),n(r),T(r),_("")},size:"sm"})})]})})},Z=["FiltersComp","initialFilters","TableComp"];function S(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function E(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?S(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var D=function(e){var r=e.FiltersComp,t=e.initialFilters,n=e.TableComp,l=(0,o.Z)(e,Z),p=j("filters",t,t.filterType),d=(0,i.Z)(p,2),f=d[0],b=d[1],h=(0,a.useState)(f||t),O=h[0],g=h[1],m=(0,s.useRouter)().query.show;return(0,a.useEffect)((function(){b(O)}),[O]),(0,v.jsx)(c.Z,{children:(0,v.jsxs)(u.Z,{sm:12,lg:12,children:[(0,v.jsx)(P,{initialValues:t,renderFilters:function(e){return(0,v.jsx)(r,E(E(E({},e),l),{},{show:m}))},setFilters:g,filters:O}),(0,v.jsx)(n,E({filters:O,initialFilters:t},l))]})})}},86806:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return m}});var n=t(66918),i=t(92809),o=t(70316),s=t(50899),a=t(69399),c=[{text:"Type",value:""},{text:"Document",value:"document"},{text:"Image",value:"image"},{text:"Video",value:"video"}],u=t(78215),l=t(2356),p=t(85893);function d(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?d(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var b=function(e){e.control;var r=e.errors,t=e.register,n=e.setFilters;return(0,p.jsx)(u.Z,{children:(0,p.jsx)(l.Z,{md:6,children:(0,p.jsx)(a.r,{errors:r,name:"type",onChange:function(e){return n((function(r){return f(f({},r),{},{type:e.target.value||null})}))},options:c,register:t})})})};function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var O={q:null,type:null,filterType:"media_table"},g=function(){return(0,p.jsx)(o.J,{FiltersComp:b,initialFilters:O,TableComp:function(e){return(0,p.jsx)(s.G,function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){(0,i.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({carousel:!1,details:!0,listView:!0,showActionButtons:!1,showEntityColumn:!0},e))}})},m=function(){return(0,p.jsx)(n.Z,{pageHeading:{heading:"Media"},View:(0,p.jsx)(g,{})})}},49234:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/media",function(){return t(86806)}])},10219:function(e,r,t){"use strict";function n(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(i[t]=e[t]);return i}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}t.d(r,{Z:function(){return n}})}},function(e){e.O(0,[284,4195,5312,7287,2002,3086,7134,3486,4712,1265,6996,9666,7431,899,9774,2888,179],(function(){return r=49234,e(e.s=r);var r}));var r=e.O();_N_E=r}]);