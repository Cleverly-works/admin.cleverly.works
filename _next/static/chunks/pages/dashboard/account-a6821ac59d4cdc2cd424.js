(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7130],{93633:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(81322);function i(e,t){return(0,r.r)(e,t,!1)}},58448:function(e,t,n){"use strict";var r,i,o=n(30168),a=n(67294),s=n(45697),u=n(24237),c=function(e){var t=e.align,n=e.children;return a.createElement(l,{align:t,"aria-label":"Toolbar with button groups",role:"toolbar"},a.createElement(d,{role:"group","aria-label":"First group"},n))};c.displayName="ButtonToolbar";var l=u.ZP.div(r||(r=(0,o.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: ",";\n"])),(function(e){return e.align})),d=u.ZP.div(i||(i=(0,o.Z)(["\n  display: inline-flex;\n  position: relative;\n  vertical-align: middle;\n\n  a:hover {\n    color: white;\n  }\n\n  &:last-child > div:last-of-type button {\n    border-top-right-radius: 0.25rem;\n    border-bottom-right-radius: 0.25rem;\n    border-right: 0;\n  }\n\n  a:not(:last-child),\n  button:not(:last-child) {\n    border-bottom-right-radius: 0;\n    border-right: 1px solid ",";\n    border-top-right-radius: 0;\n  }\n\n  a:not(:first-child),\n  button:not(:first-child),\n  a:not(:first-child) button,\n  div:not(:first-child) button {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n    margin-left: 0;\n  }\n\n  a:not(:last-child) button,\n  div:not(:last-child) button {\n    border-bottom-right-radius: 0;\n    border-right: 1px solid ",";\n    border-top-right-radius: 0;\n  }\n"])),(function(e){return e.theme.COLOUR.light}),(function(e){return e.theme.COLOUR.light}));c.propTypes={align:s.string,children:s.node.isRequired},c.defaultProps={align:"center"},t.Z=c},71247:function(e,t,n){"use strict";var r=n(87462),i=n(70885),o=n(45987),a=n(67294),s=n(45697),u=n(42778),c=n(82373),l=n(49787),d=["disabled","errors","helperMessage","name","placeholder","readOnly","regExp","register","size","validate","withAddon"],p=function(e){var t=e.disabled,n=e.errors,s=e.helperMessage,c=e.name,p=e.placeholder,f=e.readOnly,g=(e.regExp,e.register),h=e.size,b=(e.validate,e.withAddon),m=(0,o.Z)(e,d),v=(0,a.useState)(!1),y=(0,i.Z)(v,2),O=y[0],j=y[1];return a.createElement(u.Z,(0,r.Z)({"aria-label":c,component:l.Z,disabled:t,helperMessage:s,onKeyDown:function(e){j(!0)},onBlur:function(){j(!1)},errors:n[c],isTyping:O,key:c,name:c,placeholder:p,readOnly:f,register:g,size:h,withAddon:b},m))};p.displayName="FormField",p.propTypes={accept:s.string,autoComplete:(0,s.oneOfType)([s.bool,s.string]),autoFocus:s.bool,disabled:s.bool,errors:s.object.isRequired,helperMessage:s.string,label:s.string,name:s.string.isRequired,placeholder:s.string,readOnly:s.bool,register:s.func.isRequired,size:(0,s.oneOf)([c.Z.SM,c.Z.MD,c.Z.LG]),style:s.object,textAlign:s.string,type:s.string,value:(0,s.oneOfType)([s.string,s.number,s.bool,(0,s.arrayOf)((0,s.oneOfType)([s.string,s.number,s.bool]))])},p.defaultProps={autoComplete:"off",autoFocus:!1,disabled:!1,errors:{},readOnly:!1,type:"text"},t.Z=p},49787:function(e,t,n){"use strict";var r,i,o,a,s,u,c=n(30168),l=n(24237),d=n(38425),p=n(88280),f=n(82373),g=l.ZP.input.attrs((function(e){return{autoComplete:"off",autoFocus:!1}}))(r||(r=(0,c.Z)(["\n  ","\n\n  ","\n\n    ","\n"])),(function(e){return(0,d.Z)(e)}),(function(e){return e.errors&&(0,l.iv)(i||(i=(0,c.Z)(["\n      ","\n    "])),(function(e){return(0,p.Z)(e)}))}),(function(e){switch(e.size){case f.Z.SM:return(0,l.iv)(o||(o=(0,c.Z)(["\n          height: 1.5rem;\n        "])));case f.Z.MD:return(0,l.iv)(a||(a=(0,c.Z)(["\n          height: 1.875rem;\n        "])));case f.Z.LG:return(0,l.iv)(s||(s=(0,c.Z)(["\n          height: 2.25rem;\n        "])));default:return(0,l.iv)(u||(u=(0,c.Z)(["\n          height: 2.25rem;\n        "])))}}));t.Z=g},21269:function(e,t,n){"use strict";var r,i,o,a,s,u=n(30168),c=n(67294),l=n(45697),d=n(24237),p=n(37815),f=n(82373),g=function(e){var t=e.addonType,n=(e.className,e.children),r=e.context,i=e.error,o=e.size,a=e.text,s=e.theme;return c.createElement(h,{addonType:t,className:t,children:n,context:r,error:i,size:o,text:a,theme:s})};g.displayName="InputGroupAddon";var h=d.ZP.div(r||(r=(0,u.Z)(["\n  align-items: center;\n  display: flex;\n\n  & > * {\n    height: 100%;\n  }\n\n  ","\n  ","\n\n  &,\n  button {\n    ","\n\n    ","\n  }\n"])),(function(e){var t=e.theme,n=t.COLOUR,r=t.FORM_ELEMENTS_STYLES,o=e.error;return e.text&&(0,d.iv)(i||(i=(0,u.Z)(["\n      background-color: ",";\n      border: 1px solid ",";\n      border-radius: ",";\n      color: ",";\n      display: flex;\n      font-size: 0.75rem;\n      font-weight: 400;\n      line-height: 1;\n      margin-bottom: 0;\n      padding: 0.375rem 1rem;\n      text-align: center;\n      transition: background-color 0.15s linear;\n      white-space: nowrap;\n    "])),o?n.danger:n.light,o?n.danger:n.dark,r.inputBorderRadius,o?n.light:n.dark)}),(function(e){return e.size===f.Z.SM&&(0,d.iv)(o||(o=(0,u.Z)(["\n      font-size: 0.625rem;\n      padding: 0 0.75rem;\n    "])))}),(function(e){return"prepend"===e.addonType&&(0,d.iv)(a||(a=(0,u.Z)(["\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n        margin-right: -1px;\n      "])))}),(function(e){return"append"===e.addonType&&(0,d.iv)(s||(s=(0,u.Z)(["\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n        margin-left: -1px;\n      "])))}));g.propTypes={addonType:(0,l.oneOf)(["prepend","append"]),className:l.any,children:l.node,context:(0,l.oneOf)(Object.values(p.Z)),text:l.bool},g.defaultProps={addonType:"append",context:"light"},t.Z=g},44442:function(e,t,n){"use strict";var r,i,o=n(30168),a=n(67294),s=n(45697),u=n(24237),c=function(e){var t=e.children,n=e.error,r=e.fullWidth,i=e.size,o=e.theme;return a.createElement(l,{children:t,error:n,fullWidth:r,size:i,theme:o})};c.displayName="InputGroup";var l=u.ZP.div(r||(r=(0,o.Z)(["\n  align-items: stretch;\n  display: flex;\n  flex-wrap: wrap;\n  position: relative;\n  width: 100%;\n\n  input {\n    ","\n    min-width: 0;\n    margin-bottom: 0;\n    position: relative;\n\n    :not(:first-child) {\n      border-top-left-radius: 0;\n      border-bottom-left-radius: 0;\n    }\n\n    :first-child {\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n    }\n\n    :not(:last-child) {\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n    }\n  }\n  ","\n"])),(function(e){return e.fullWidth?"flex: 1 1 0%;":"width: auto;"}),(function(e){var t=e.error,n=e.theme;return t&&n&&(0,u.iv)(i||(i=(0,o.Z)(["\n      &:hover {\n        .prepend,\n        .append {\n          background: ",";\n          border-color: ",";\n        }\n      }\n    "])),n.COLOUR.danger,n.COLOUR.danger)}));c.propTypes={fullWidth:s.bool,size:s.string},c.defaultProps={fullWidth:!0,size:"md"},t.Z=c},65375:function(e,t,n){"use strict";var r,i=n(30168),o=n(67294),a=n(45697),s=n(24237),u=n(22796),c=n(18944),l=function(e){var t=e.children,n=e.id,r=e.label,i=e.show,a=e.size;return o.createElement(d,{hasChild:t,htmlFor:n,show:i},o.createElement(u.Z,{marginBottom:"xs"},o.createElement(c.Z,{size:null!==a&&void 0!==a?a:"md",colour:"darkText",content:r})),t)};l.displayName="FormLabel";var d=s.ZP.label(r||(r=(0,i.Z)(["\n  display: ",";\n  margin-bottom: ",";\n  .react-datepicker-wrapper {\n    width: 100%;\n  }\n"])),(function(e){return e.show?"block":"none"}),(function(e){return e.hasChild?"1rem":"0"}));l.propTypes={children:a.node,id:a.string,label:a.string,show:a.bool},l.defaultProps={show:!0},t.Z=l},29444:function(e,t,n){"use strict";var r,i=n(30168),o=n(67294),a=n(45697),s=n(11163),u=n(24237),c=n(62906),l=function(e,t,n,r){return function(i){var a,u=i.row;a=u[r]||e;var c=function(){var n=u[r]||e;return"".concat(n,"?id=").concat(u[t])},l=u[n],p=u[t];return a?"-"!==l&&p?o.createElement(d,{border:!1,href:c(),onClick:function(e){e.preventDefault(),e.stopPropagation(),s.default.push(c())}},l):l||"-":l}},d=(0,u.ZP)(c.Z)(r||(r=(0,i.Z)(["\n  &:hover {\n    background: #ddd;\n    margin: -8px;\n    padding: 8px;\n  }\n"])));l.propTypes={row:a.object.isRequired},t.Z=l},73165:function(e,t){"use strict";t.Z=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},18862:function(e,t,n){"use strict";var r=n(64509);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Date(e),i=n.getFullYear(),o=""+(n.getMonth()+1),a=""+n.getDate();o.length<2&&(o="0"+o),a.length<2&&(a="0"+a);var s=[i,o,a].join("-");return t?s+" "+(0,r.Z)(e):s}},64509:function(e,t){"use strict";t.Z=function(e){var t=new Date(e),n=""+t.getHours(),r=""+t.getMinutes();return n.length<2&&(n="0"+n),r.length<2&&(r="0"+r),"".concat(n,":").concat(r)}},63867:function(e,t){"use strict";t.Z=function(e){var t=window.location,n=t.protocol,r=t.host,i=t.pathname,o="".concat(n,"//").concat(r).concat(i).concat(e);window.history.pushState({path:o},"",o)}},66805:function(e,t,n){"use strict";n.d(t,{H:function(){return l}});var r=n(92809),i=n(77417),o=n(58448),a=n(14347),s=n(85893);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=e.children,n=e.content,r=e.context,u=e.data,l=e.disabled,d=e.handleClick,p=e.size,f=e.type;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{size:"sm"}),(0,s.jsxs)(o.Z,{align:"flex-end",children:[t,(0,s.jsx)(a.Z,c({content:n,context:r,disabled:l,onClick:d,size:p,type:f},u))]})]})};l.defaultProps={content:"Add",context:"secondary",disabled:!1,size:"sm",type:"button"}},69399:function(e,t,n){"use strict";n.d(t,{r:function(){return o}});var r=n(46482),i=n(85893),o=function(e){var t=e.errors,n=e.name,o=e.onChange,a=e.options,s=e.register;return(0,i.jsx)(r.Z,{errors:t,name:n,onChange:o,options:a,register:s})};o.defaultProps={name:"status"}},81185:function(e,t,n){"use strict";n.d(t,{t:function(){return u}});var r=n(67294),i=n(11163),o=n(30493),a=n(52002),s=n(85893),u=(0,r.forwardRef)((function(e,t){var n=e.columns,u=e.history,c=e.initialSort,l=e.isResetTable,d=e.loading,p=e.meta,f=e.paginationSize,g=e.refetch,h=e.rowClick,b=e.rows,m=(0,i.useRouter)(),v=m.query,y=void 0===v?{}:v,O=(0,r.useState)(parseInt(null===y||void 0===y?void 0:y.page,10)||1),j=O[0],w=O[1],Z=(0,r.useState)(o.C1.paginationSize),x=Z[0],P=Z[1];c||(c={item:"createdAt",order:"desc"}),(0,r.useEffect)((function(){w(1)}),[l]);var S=(0,r.useState)({item:c.item,order:c.order}),C=S[0],E=S[1],D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=m.query,n=void 0===t?{}:t;e>1?n.page=e:delete n.page;var r=Object.keys(n).length>0;if(r){var i=Object.keys(n).map((function(t){return"page"===t?"".concat(t,"=").concat(e):"".concat(t,"=").concat(n[t])})).join("&&");return"?".concat(i)}return{}};(0,r.useImperativeHandle)(t,(function(){return{currentPage:j,pageSize:x,sort:C,resetPagination:function(){!function(){E({item:c.item,order:c.order}),w(1);var e=D();m.push(e),P(o.C1.paginationSize)}()}}}));return(0,s.jsx)(a.Z,{columns:n,loading:d,paginationSize:f,pagination:p&&!0,paginationProps:p&&{currentPage:j,onPageChange:function(e){var t=D(e);u&&m.push(t),w(e),g&&g()},onPageSizeChange:function(e){e!==o.C1.paginationSize&&(P(e),g&&g())},pageCount:Math.ceil(p.aggregate.totalCount/x),perPage:x},rowClick:h,rows:b,sort:C,setSort:function(e){var t=e.item,n=e.order;E({item:t,order:n}),g&&g()}})}));u.defaultProps={history:!0,loading:!0,paginationSize:!1}},49705:function(e,t,n){"use strict";n.d(t,{x:function(){return l}});var r=n(92809),i=n(67294),o=n(63867),a=n(30493),s=n(34770);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t,n,u,l,d,p,f,g,h,b,m,v=e.filters,y=e.initialSort,O=(0,i.useRef)();(0,i.useEffect)((function(){var e;(null===O||void 0===O||null===(e=O.current)||void 0===e?void 0:e.currentPage)>1&&(null===O||void 0===O||O.current.resetPagination(),(0,o.Z)("?page=1"))}),[v]);var j=y||{item:"createdAt",order:"desc"},w=(0,r.Z)({},(null===(t=O.current)||void 0===t?void 0:t.sort.item)||j.item,j.inneritem?(0,r.Z)({},j.inneritem,(null===(n=O.current)||void 0===n?void 0:n.sort.order)||j.order):(null===(u=O.current)||void 0===u?void 0:u.sort.order)||j.order);return{initialData:c(c({},v),{},{limit:"Infinity"===(null===(l=O.current)||void 0===l?void 0:l.pageSize)?null:parseInt(null===(d=O.current)||void 0===d?void 0:d.pageSize,10)||a.C1.paginationSize,offset:((null===(p=O.current)||void 0===p?void 0:p.currentPage)-1||0)*((null===(f=O.current)||void 0===f?void 0:f.pageSize)||a.C1.paginationSize),orderBy:(0,s.c)(null===(g=O.current)||void 0===g||null===(h=g.sort)||void 0===h||null===(b=h.item)||void 0===b?void 0:b.replace(/ORDER/i,null===(m=O.current)||void 0===m?void 0:m.sort.order))||w}),initialSort:y,ref:O}}},34770:function(e,t,n){"use strict";n.d(t,{s:function(){return r},c:function(){return i}});var r=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},i=function(e){try{return JSON.parse(e)}catch(t){return!1}}},89331:function(e,t,n){"use strict";n.d(t,{l:function(){return r},Y:function(){return i}});var r=[{text:"Account Type",value:""},{text:"Admin",value:"admin"},{text:"Customer",value:"customer"},{text:"Supplier",value:"supplier"},{text:"Tenant",value:"tenant"}],i=function(e){return[{icon:"edit",tooltip:"Edit",to:"/dashboard/".concat(e.type,"s/").concat("supplier"===e.type?"edit":"manage","?id=").concat(e.id)}]}},75838:function(e,t,n){"use strict";n.d(t,{bg:function(){return r},WG:function(){return i}});var r=[{text:"Status",value:""},{text:"Active",value:"active"},{text:"Inactive",value:"inactive"}],i=[{text:"Status",value:""},{text:"Open",value:"open"},{text:"Resolved",value:"resolved"},{text:"Closed",value:"closed"}]},70316:function(e,t,n){"use strict";n.d(t,{J:function(){return E}});var r=n(92809),i=n(80318),o=n(10219),a=n(11163),s=n(67294),u=n(78215),c=n(2356),l=n(42283),d=n(97202),p=n(80284),f=n(65375),g=n(10973),h=n(14347),b=n(66805),m=n(69119),v=n(23855),y=n(83894);function O(e,t,n){var r=(0,s.useState)((function(){if(JSON.parse(window.sessionStorage.getItem(e))&&!Object.values(JSON.parse(window.sessionStorage[e])).includes(n))return t;try{var r=JSON.parse(window.sessionStorage.getItem(e));return r&&(r.startDate=r.startDate?(0,m.Z)((0,v.Z)(r.startDate)):null,r.endDate=r.endDate?(0,y.Z)((0,v.Z)(r.endDate)):null),r||t}catch(i){return console.log(i),t}})),i=r[0],o=r[1];return[i,function(t){try{var n=t instanceof Function?t(i):t;o(n),window.sessionStorage.setItem(e,JSON.stringify(n))}catch(r){console.log(r)}}]}var j=n(85893);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t=e.initialValues,n=e.renderFilters,r=e.setFilters,o=e.lastQuery,a=e.filters,m=t.filterType,v=O("form_data",t,m),y=(0,i.Z)(v,2),w=y[0],x=y[1],P=(0,l.cI)({defaultValues:w||t}),S=P.control,C=P.errors,E=P.handleSubmit,D=P.register,z=P.reset,T=P.watch,k=P.setValue,_=Z(Z({},T()),{},{filterType:m});(0,s.useEffect)((function(){z(_)}),[z]),(0,s.useEffect)((function(){x(_)}),[a]);var N=function(e){var n=e.query;if(n!==o){var i={q:"%".concat(n,"%")||0},a=/^\d+$/.test(n);"id"in t&&(i.id=a?Number(n):null),"meta"in t&&(i.meta=a?{invoiceNumbers:[n]}:null),"jobNumber"in t&&(i.jobNumber=a?String(n):null,i.invoiceNumber=a?Number(n):null),(i.id||i.meta||i.jobNumber)&&(i.q=null),r((function(e){return Z(Z({},e),i)}))}};return(0,j.jsx)(d.Z,{handleSubmit:E(N),children:(0,j.jsxs)(p.Z,{title:"Filters",children:[(0,j.jsxs)(u.Z,{children:[(0,j.jsx)(c.Z,{sm:12,lg:12,children:(0,j.jsx)(f.Z,{label:"",children:(0,j.jsx)(g.Z,{errors:C,label:"Search",name:"email",placeholder:"Search...",prependSearchIcon:!0,register:D,type:"search"})})}),(0,j.jsx)(c.Z,{sm:12,lg:12,children:n({control:S,errors:C,initialValues:t,register:D,setFilters:r,watch:T,setValue:k,reset:z})})]}),(0,j.jsx)(b.H,{content:"Search",context:"secondary",handleClick:N,type:"submit",children:(0,j.jsx)(h.Z,{content:"Clear",context:"danger",onClick:function(e){Object.keys(t).map((function(e){return k(e,null)})),r(t),z(t),N("")},size:"sm"})})]})})},P=["FiltersComp","initialFilters","TableComp"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t=e.FiltersComp,n=e.initialFilters,r=e.TableComp,l=(0,o.Z)(e,P),d=O("filters",n,n.filterType),p=(0,i.Z)(d,2),f=p[0],g=p[1],h=(0,s.useState)(f||n),b=h[0],m=h[1],v=(0,a.useRouter)().query.show;return(0,s.useEffect)((function(){g(b)}),[b]),(0,j.jsx)(u.Z,{children:(0,j.jsxs)(c.Z,{sm:12,lg:12,children:[(0,j.jsx)(x,{initialValues:n,renderFilters:function(e){return(0,j.jsx)(t,C(C(C({},e),l),{},{show:v}))},setFilters:m,filters:b}),(0,j.jsx)(r,C({filters:b,initialFilters:n},l))]})})}},61352:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var r,i=n(66918),o=n(70316),a=n(93633),s=n(52209),u=(0,n(54397).Ps)(r||(r=(0,s.Z)(['\n  query Accounts(\n    $assignedUser: Int\n    $date: timestamptz\n    $limit: Int\n    $offset: Int\n    $orderBy: Account_order_by!\n    $q: String\n    $status: String\n    $type: String\n  ) {\n    accounts: Account(\n      limit: $limit\n      offset: $offset\n      where: {\n        createdAt: { _eq: $date }\n        managerId: { _eq: $assignedUser }\n        name: { _ilike: $q }\n        status: { _eq: $status }\n        type: { _eq: $type }\n      }\n      order_by: [$orderBy]\n    ) {\n      id\n      name\n      type\n      createdAt\n      status\n      addresses: Addresses(where: { entity: { _eq: "Account" } }) {\n        id\n        registered\n        operating\n        trading\n        invoice\n        status\n        createdAt\n        address: Address {\n          id\n          name\n          addressLine1\n          addressLine2\n          addressLine3\n          city\n          county\n          geo\n          postCode\n          country: Country {\n            id\n            name\n          }\n        }\n      }\n    }\n    meta: Account_aggregate(\n      where: {\n        createdAt: { _eq: $date }\n        managerId: { _eq: $assignedUser }\n        name: { _ilike: $q }\n        status: { _eq: $status }\n        type: { _eq: $type }\n      }\n    ) {\n      aggregate {\n        totalCount: count\n      }\n    }\n  }\n']))),c=n(29444),l=n(73165),d=n(18862),p=n(80284),f=n(70448),g=n(81185),h=n(49705),b=n(85893),m=function(e){var t=e.filters,n=(0,h.x)({filters:t}),r=n.initialData,i=n.ref,o=(0,a.a)(u,{variables:r}),s=o.data,m=(s=void 0===s?{accounts:[],meta:{aggregate:{totalCount:0}}}:s).accounts,v=s.meta,y=o.loading,O=o.refetch,j=[{hidden:!0},{formatter:(0,c.Z)("","id","name","url"),text:"Name"},{text:"Type"},{text:"City"},{sortable:!0,sortName:"createdAt",text:"Created"},{text:"Status"},{hidden:!0}];return(0,b.jsx)(p.Z,{open:!0,title:"Accounts",children:(0,b.jsx)(g.t,{columns:j,loading:y,meta:v,ref:i,refetch:O,rows:m.map((function(e){var t,n=(0,f.WE)(e,"registered"),r=null===n||void 0===n||null===(t=n.address)||void 0===t?void 0:t.city;return{id:e.id,name:e.name,type:(0,l.Z)(e.type),city:r||"",createdAt:(0,d.Z)(e.createdAt),status:(0,l.Z)(e.status),url:["superadmin","tenant"].includes(e.type.toLowerCase())?"":"/dashboard/".concat(e.type.toLowerCase(),"s/view")}}))})})},v=n(92809),y=n(69399),O=n(89331),j=n(75838),w=n(78215),Z=n(2356);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,v.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(e){var t=e.errors,n=e.register,r=e.setFilters,i={errors:t,register:n};return(0,b.jsxs)(w.Z,{children:[(0,b.jsx)(Z.Z,{md:6,children:(0,b.jsx)(y.r,P(P({},i),{},{onChange:function(e){return r((function(t){return P(P({},t),{},{status:e.target.value||null})}))},options:j.bg}))}),(0,b.jsx)(Z.Z,{md:6,children:(0,b.jsx)(y.r,P(P({},i),{},{name:"type",onChange:function(e){return r((function(t){return P(P({},t),{},{type:e.target.value||null})}))},options:O.l}))})]})},C={q:null,status:"active",type:null,filterType:"account_table"},E=function(){return(0,b.jsx)(o.J,{FiltersComp:S,initialFilters:C,TableComp:m})},D=function(){return(0,b.jsx)(i.Z,{pageHeading:{heading:"Accounts"},View:(0,b.jsx)(E,{})})}},42818:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/account",function(){return n(61352)}])},10219:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[284,4195,5312,2002,7431,9774,2888,179],(function(){return t=42818,e(e.s=t);var t}));var t=e.O();_N_E=t}]);